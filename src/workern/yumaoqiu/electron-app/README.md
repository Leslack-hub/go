# 羽毛球场地预订桌面应用

## 📋 概述

这是一个基于 Electron + Vue 3 + TypeScript 开发的跨平台桌面应用，为原有的 Go 语言羽毛球场地预订程序提供了友好的图形化界面。通过这个应用，您可以轻松配置预订参数、启动程序、查看运行日志，无需使用命令行。

## 🚀 快速开始

### 方法一：使用启动脚本（推荐）

#### Windows 用户
1. 双击 `start.bat` 文件
2. 首次运行会自动安装依赖（需要几分钟）
3. 安装完成后应用会自动启动

#### macOS/Linux 用户
1. 打开终端，进入 `electron-app` 目录
2. 运行 `chmod +x start.sh` 给脚本执行权限
3. 运行 `./start.sh`
4. 首次运行会自动安装依赖
5. 安装完成后应用会自动启动

### 方法二：手动安装

1. 确保已安装 Node.js (版本 16 或更高)
2. 打开终端/命令提示符，进入 `electron-app` 目录
3. 运行 `npm install` 安装依赖
4. 运行 `npm start` 启动应用

## 🎯 功能介绍

### 1. 主界面布局

- **左侧面板**：配置区域和控制按钮
- **右侧面板**：实时日志显示
- **顶部状态栏**：显示程序运行状态

### 2. 配置参数

#### 必填参数
- **预订日期**：选择要预订的日期，格式会自动转换为8位数字（如20250901）

#### 可选参数
- **执行次数**：程序最大尝试次数，默认为 5
- **开始时间**：程序开始执行的时间，可以设置定时启动
- **场地位置**：场地编号，用逗号分隔，例如 `4,5`（表示4号和5号场地）

### 3. 操作流程

1. **配置参数**
   - 在左侧配置区域填写预订参数
   - 预订日期为必填项
   - 其他参数可根据需要调整

2. **检查程序状态**
   - 应用会自动检测Go程序是否存在
   - 支持可执行文件(.exe)和源码文件(.go)
   - 如果检测失败，可点击"刷新状态"重新检测

3. **启动预订**
   - 点击"开始预订"按钮启动程序
   - 实时查看右侧日志输出
   - 程序运行时状态指示器会显示"运行中"

4. **监控和控制**
   - 实时查看程序输出日志
   - 可随时点击"停止程序"终止运行
   - 使用"清空日志"清理日志显示

## 🛠️ 开发和构建

### 开发模式

```bash
# 安装依赖
npm install

# 启动开发模式
npm run dev
```

### 构建应用

```bash
# 构建应用
npm run build

# 打包为可执行文件
npm run pack

# 仅打包Windows版本
npm run pack:win

# 仅打包macOS版本
npm run pack:mac
```

## 📁 项目结构

```
electron-app/
├── src/
│   ├── main/                 # Electron主进程
│   │   ├── main.ts           # 主进程入口
│   │   └── preload.ts        # 预加载脚本
│   └── renderer/             # 渲染进程(Vue应用)
│       ├── src/
│       │   ├── App.vue       # 主组件
│       │   ├── main.ts       # Vue应用入口
│       │   └── style.css     # 样式文件
│       └── index.html        # HTML模板
├── assets/                   # 资源文件
│   └── icon.svg             # 应用图标
├── dist/                     # 构建输出目录
├── release/                  # 打包输出目录
├── package.json              # 项目配置
├── vite.config.ts           # Vite配置
├── tsconfig.json            # TypeScript配置
├── start.bat                # Windows启动脚本
├── start.sh                 # macOS/Linux启动脚本
└── README.md                # 说明文档
```

## 🔧 技术栈

- **Electron**：跨平台桌面应用框架
- **Vue 3**：前端框架，使用组合式API
- **TypeScript**：主要编程语言
- **Vite**：构建工具
- **Element Plus**：UI组件库

## ⚠️ 注意事项

1. **Go程序依赖**
   - 应用需要Go程序文件存在于 `../src/workern/yumaoqiu/` 目录
   - 支持可执行文件(.exe)和源码文件(.go)
   - 如果使用源码文件，需要系统安装Go环境

2. **网络要求**
   - 首次安装需要网络连接下载依赖
   - Go程序运行时需要网络连接访问预订接口

3. **系统兼容性**
   - Windows 10/11
   - macOS 10.14+
   - Linux (主流发行版)

4. **权限要求**
   - 应用需要网络访问权限
   - 需要文件系统读写权限

## 🐛 故障排除

### 常见问题

1. **应用无法启动**
   - 检查Node.js是否正确安装
   - 确认Node.js版本为16或更高
   - 尝试删除`node_modules`文件夹后重新安装

2. **找不到Go程序**
   - 确认Go程序文件路径正确
   - 检查文件权限
   - 点击"刷新状态"重新检测

3. **程序启动失败**
   - 查看日志输出中的错误信息
   - 确认Go程序参数配置正确
   - 检查网络连接

4. **依赖安装失败**
   - 检查网络连接
   - 尝试使用国内npm镜像：`npm config set registry https://registry.npmmirror.com`
   - 清除npm缓存：`npm cache clean --force`

### 获取帮助

如果遇到问题，请：
1. 查看应用内的日志输出
2. 检查控制台错误信息
3. 确认系统环境符合要求

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！